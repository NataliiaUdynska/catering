<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Our Menu</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f4f4f4; }
        h1 { text-align: center; color: #4b6149; }
        .filter { text-align: center; margin-bottom: 20px; }
        .filter a {
            padding: 10px 18px; margin: 5px; border-radius: 6px; text-decoration: none;
            background: #6b8e77; color: white; transition: 0.2s; display: inline-block;
        }
        .filter a.active { background: #3e5241; font-weight: bold; box-shadow: inset 0 2px 4px rgba(0,0,0,0.2); }
        .filter a:hover { background: #55745e; }
        .menu-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }
        .item { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 3px 12px rgba(0,0,0,0.08); }
        .name { font-size: 1.2em; font-weight: bold; margin-bottom: 8px; color: #333; }
        .description { font-size: 0.95em; color: #555; margin-bottom: 12px; line-height: 1.4; min-height: 40px; }
        .price { color: #6b8e77; font-weight: bold; margin-bottom: 12px; font-size: 1.1em; }
        .category-label { color: #999; font-size: 0.8em; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 16px; }
        .cart-form { display: flex; gap: 8px; align-items: center; }
        .cart-form input { width: 50px; padding: 6px; border: 1px solid #ccc; border-radius: 4px; }
        .cart-form button { padding: 6px 12px; background: #6b8e77; color: white; border: none; border-radius: 4px; cursor: pointer; flex-grow: 1; }
        .cart-form button:hover { background: #55745e; }
        .cart-link-container { text-align: center; margin: 20px 0; }
        .cart-link { text-decoration: none; color: white; padding: 10px 25px; background: #4b6149; border-radius: 6px; display: inline-block; }
    </style>
</head>
<body>

<h1>Our Menu</h1>

<div class="filter">
    <a th:href="@{/menu(category='all')}"
       th:classappend="${selectedCategory == 'all'} ? ' active'">All</a>

    <a th:href="@{/menu(category='Salads')}"
       th:classappend="${selectedCategory == 'Salads'} ? ' active'">Salads</a>

    <a th:href="@{/menu(category='Soups')}"
       th:classappend="${selectedCategory == 'Soups'} ? ' active'">Soups</a>

    <a th:href="@{/menu(category='Main Courses')}"
       th:classappend="${selectedCategory == 'Main Courses'} ? ' active'">Main</a>

    <a th:href="@{/menu(category='Appetizers')}"
       th:classappend="${selectedCategory == 'Appetizers'} ? ' active'">Snacks</a>

    <a th:href="@{/menu(category='Drinks')}"
       th:classappend="${selectedCategory == 'Drinks'} ? ' active'">Drinks</a>

    <a th:href="@{/menu(category='Desserts')}"
       th:classappend="${selectedCategory == 'Desserts'} ? ' active'">Desserts</a>
</div>

<div class="cart-link-container">
    <a href="/cart" class="cart-link">Go to Cart</a>
</div>

<hr>

<div class="menu-container">
    <div th:if="${#lists.isEmpty(menuItems)}" style="grid-column: 1/-1; text-align: center; padding: 40px; color: #777;">
        No items found in this category.
    </div>

    <div class="item" th:each="item : ${menuItems}">
        <div class="name" th:text="${item.name}">Item Name</div>
        <div class="description" th:text="${item.description}">Description</div>
        <div class="price" th:text="|$${#numbers.formatDecimal(item.price, 1, 2)}|">€0.00</div>
        <div class="category-label" th:text="${item.category}">Category</div>

        <form th:action="@{/cart/add(redirect='/menu')}" method="post" class="cart-form">
            <input type="hidden" name="menuItemId" th:value="${item.id}" />
            <input type="number" name="quantity" value="1" min="1" />
            <button type="submit">Add to Cart</button>
        </form>
    </div>
</div>

<div style="margin-top: 40px;">
    <a href="/" style="text-decoration: none; color: #6b8e77; font-weight: bold;">← Home</a>
    <span style="margin: 0 10px; color: #ccc;">|</span>
    <a href="/cart" style="text-decoration: none; color: #6b8e77; font-weight: bold;">My Cart</a>
</div>

</body>
</html>